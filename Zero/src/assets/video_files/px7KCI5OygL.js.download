;/*FB_PKG_DELIM*/

__d("IGDSBottomSheet.react",["BaseDialog.react","CometHideLayerOnEscape.react","CometOnOutsideClick.react","IGDSDialogHeader.react","PolarisIGCoreSheetDragBar.react","react","usePolarisViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=b.c;e=i.forwardRef(a);var n={content:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0}};function a(a,b){var d=m(37),e=a.bottomSheetHeaderText,f=a.children;a=a.onClose;var g;d[0]!==a?(g=a===void 0?function(){}:a,d[0]=a,d[1]=g):g=d[1];var h=g;a=c("usePolarisViewport")();var o=a.height;g=l(o);var p=g[0],q=g[1],r=k(null),s=k(null);a=l(!0);var t=a[0],u=a[1],v=k(!1);d[2]!==o?(g=[0,o],d[2]=o,d[3]=g):g=d[3];var w=g;d[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){q(0)},g=[],d[4]=a,d[5]=g):(a=d[4],g=d[5]);j(a,g);d[6]!==w?(a=function(a){return w.reduce(function(b,c){if(Math.abs(c-a)<Math.abs(b-a))return c;else return b},Infinity)},d[6]=w,d[7]=a):a=d[7];var x=a;d[8]!==x||d[9]!==p||d[10]!==o||d[11]!==h?(g=function(){var a=x(p);v.current=!1;u(!0);q(a);p>=o?h==null?void 0:h():a>=o&&window.setTimeout(function(){h==null?void 0:h()},300);r.current=null},d[8]=x,d[9]=p,d[10]=o,d[11]=h,d[12]=g):g=d[12];var y=g;d[13]!==p?(a=function(a){v.current=!0,r.current=a.touches[0].screenY,s.current=p,u(!1)},d[13]=p,d[14]=a):a=d[14];var z=a;d[15]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){if(v.current===!1||r.current==null)return;var b=a.touches[0].screenY;b=r.current-b;q(s.current-b);a.preventDefault()},d[15]=g):g=d[15];var A=g;d[16]!==A?(a=function(){document.addEventListener("touchmove",A,{passive:!1});return function(){return document.removeEventListener("touchmove",A)}},g=[A],d[16]=A,d[17]=a,d[18]=g):(a=d[17],g=d[18]);j(a,g);d[19]!==o||d[20]!==h?(a=function(){u(!0),q(o),window.setTimeout(function(){h==null?void 0:h()},300)},d[19]=o,d[20]=h,d[21]=a):a=d[21];g=a;d[22]!==h||d[23]!==b||d[24]!==t||d[25]!==p||d[26]!==y||d[27]!==z||d[28]!==e||d[29]!==f?(a=function(a){return i.jsx("div",{ref:a,children:i.jsx(c("BaseDialog.react"),{onClose:h,ref:b,xstyle:n.content,children:i.jsx("div",{className:"xkh2ocl x131esax xf1ldfh x1ey2m1c x1iyjqo2 xdj266r x11i5rnm xat24cr x1mh8g0r x1iy3rx xw2csxc x1odjw0f xixxii4 x17qophe xn9wirt",style:{animation:t?"":"none",transform:"translateY("+p+"px)",transition:t?"transform "+.3+"s ease":""},children:i.jsxs("div",{className:"x7r02ix x1iyjqo2 xb88tzc xw2csxc x1odjw0f",role:"dialog",children:[i.jsxs("div",{onTouchEnd:y,onTouchStart:z,children:[i.jsx(c("PolarisIGCoreSheetDragBar.react"),{}),e!=null&&i.jsx(c("IGDSDialogHeader.react"),{children:e})]}),f]})})})})},d[22]=h,d[23]=b,d[24]=t,d[25]=p,d[26]=y,d[27]=z,d[28]=e,d[29]=f,d[30]=a):a=d[30];var B;d[31]!==g||d[32]!==a?(B=i.jsx(c("CometOnOutsideClick.react"),{onOutsideClick:g,children:a}),d[31]=g,d[32]=a,d[33]=B):B=d[33];d[34]!==g||d[35]!==B?(a=i.jsx(c("CometHideLayerOnEscape.react"),{onHide:g,children:B}),d[34]=g,d[35]=B,d[36]=a):a=d[36];return a}f=e;g["default"]=f}),98);
__d("IGDSChevronRightPanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("polyline",{fill:"none",points:"8.351 3.354 17 12 8.351 20.646",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisStoriesV3CaptionModalContent_caption.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3CaptionModalContent_caption",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3ViewerSizeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({height:0,width:0});g["default"]=b}),98);
__d("usePolarisStoriesV3ViewerSizeContext",["PolarisStoriesV3ViewerSizeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisStoriesV3ViewerSizeContext"))}g["default"]=a}),98);
__d("PolarisStoriesV3CaptionModalContent.react",["CometRelay","IGDSBox.react","PolarisStoriesV3CaptionModalContent_caption.graphql","PolarisUserText.react","react","usePolarisStoriesV3ViewerSizeContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=100;function a(a){var e=j(8);a=a.caption;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3CaptionModalContent_caption.graphql"),a);var f=c("usePolarisStoriesV3ViewerSizeContext")();f=f.height;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="xw2csxc x1odjw0f",e[0]=g):g=e[0];f=f-l;var i;e[1]!==f?(i={maxHeight:f,overflow:"auto"},e[1]=f,e[2]=i):i=e[2];e[3]!==a.text?(f=k.jsx(c("IGDSBox.react"),{marginBottom:5,marginTop:5,paddingX:5,position:"relative",children:k.jsx(c("PolarisUserText.react"),{size:"body",value:a.text})}),e[3]=a.text,e[4]=f):f=e[4];e[5]!==i||e[6]!==f?(a=k.jsx("div",{className:g,style:i,children:f}),e[5]=i,e[6]=f,e[7]=a):a=e[7];return a}g["default"]=a}),98);
__d("PolarisStoriesV3DeleteMediaContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={deleteMedia:c("emptyFunction"),isDeleted:c("emptyFunction").thatReturns(!1)};e=a.createContext(b);g["default"]=e}),98);
__d("PolarisStoriesV3KeyCommandsContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({disableKeyCommands:c("emptyFunction").thatReturns(c("emptyFunction")),getIsEnabled:c("emptyFunction").thatReturnsTrue});g["default"]=b}),98);
__d("PolarisStoriesV3KeyCommandsContextProvider.react",["PolarisStoriesV3KeyCommandsContext","react","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useRef,k=b.c;function a(a){var b=k(9);a=a.children;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=new Set(),b[0]=d):d=b[0];var e=j(d);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(){var a=c("uniqueID")();e.current.add(a);return function(){e.current["delete"](a)}},b[1]=d):d=b[1];d=d;var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return e.current.size===0},b[2]=f):f=b[2];f=f;var g;b[3]!==d||b[4]!==f?(g={disableKeyCommands:d,getIsEnabled:f},b[3]=d,b[4]=f,b[5]=g):g=b[5];d=g;f=d;b[6]!==f||b[7]!==a?(g=i.jsx(c("PolarisStoriesV3KeyCommandsContext").Provider,{value:f,children:a}),b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("PolarisStoriesV3NavigationContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({hasNext:!1,hasNextReel:!1,hasPrev:!1,hasPrevReel:!1,isNavigating:c("emptyFunction").thatReturnsFalse,next:c("emptyFunction"),nextReel:c("emptyFunction"),prev:c("emptyFunction"),prevReel:c("emptyFunction")});g["default"]=b}),98);
__d("PolarisStoriesV3OnStoryViewerCloseContext",["SubscriptionList","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(new(c("SubscriptionList"))());g["default"]=b}),98);
__d("usePolarisPopPushView",["CometRouteRenderType","XPolarisFeedControllerRouteBuilder","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c,j=c("XPolarisFeedControllerRouteBuilder").buildUri({}).toString();function a(){var a=i(3),b=c("useCometRouterDispatcher")(),e=d("CometRouteRenderType").useIsPushView(),f;a[0]!==e||a[1]!==b?(f=function(a,c){a=a===void 0?j:a;c=c===void 0?{}:c;e?b==null?void 0:b.popPushView():b==null?void 0:b.go(a,c)},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("PolarisStoriesV3OnStoryViewerCloseContextProvider.react",["PolarisStoriesV3OnStoryViewerCloseContext","SubscriptionList","react","usePolarisPopPushView","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){a=a.children;var b=l(!1),d=c("useStable")(function(){return new(c("SubscriptionList"))()}),e=c("usePolarisPopPushView")();k(function(){return function(){b.current||(b.current=!0,d.fireCallbacks())}},[b,d]);var f=j(function(){b.current||(b.current=!0,d.fireCallbacks(),e())},[b,d,e]);return i.jsx(c("PolarisStoriesV3OnStoryViewerCloseContext").Provider,{value:d,children:a(f)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoriesV3ExitFullScreenEffect",["CometFullScreen","PolarisUA","promiseDone","react","useIsMountedRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=c("useIsMountedRef")();i(function(){if(!d("PolarisUA").isMobile()||!d("CometFullScreen").isSupported())return;var e=d("CometFullScreen").subscribeToFullScreenChangeEvent(function(){d("CometFullScreen").isFullScreen()||a()});return function(){e(),!b.current&&d("CometFullScreen").isFullScreen()&&c("promiseDone")(d("CometFullScreen").exitFullScreen())}},[b,a])}g["default"]=a}),98);
__d("PolarisStoriesV3Page.react",["fbt","CometPlaceholder.react","IGDSSpinner.react","PolarisFullscreenShellWithLogo.react","PolarisPageMetadata.react","PolarisStoriesV3KeyCommandsContextProvider.react","PolarisStoriesV3OnStoryViewerCloseContextProvider.react","react","stylex","usePolarisIsSmallScreen","usePolarisStoriesV3ExitFullScreenEffect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=h._("__JHASH__SkrEOF7TPUU__JHASH__"),n={root:{backgroundColor:"x5qyhuo",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},rootSmallScreen:{backgroundColor:"xyzq4qe",height:"xtdtrs8",position:"xixxii4",width:"xh8yej3",$$css:!0}};function o(a){var b=k(3),d=a.children;a=a.onClose;c("usePolarisStoriesV3ExitFullScreenEffect")(a);var e=c("usePolarisIsSmallScreen")();if(e)return d;b[0]!==a||b[1]!==d?(e=l.jsx(c("PolarisFullscreenShellWithLogo.react"),{onClose:a,children:d}),b[0]=a,b[1]=d,b[2]=e):e=b[2];return e}function a(a){var b=k(9),d=a.children;a=c("usePolarisIsSmallScreen")();var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("PolarisPageMetadata.react"),{id:"StoriesPage",title:m}),b[0]=e):e=b[0];a=(i||(i=c("stylex")))(n.root,a&&n.rootSmallScreen);var f;b[1]!==d?(f=l.jsx(c("PolarisStoriesV3KeyCommandsContextProvider.react"),{children:l.jsx(c("PolarisStoriesV3OnStoryViewerCloseContextProvider.react"),{children:function(a){return l.jsx(o,{onClose:a,children:l.jsx("div",{className:"x78zum5 xl56j7k",children:l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"}),children:d})})})}})}),b[1]=d,b[2]=f):f=b[2];var g;b[3]!==a||b[4]!==f?(g=l.jsx("div",{className:a,children:f}),b[3]=a,b[4]=f,b[5]=g):g=b[5];b[6]!==e||b[7]!==g?(a=l.jsxs(l.Fragment,{children:[e,g]}),b[6]=e,b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),226);
__d("PolarisStoriesV3PauseReason",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["None","Hidden","KeyCommand","LongPress","MediaOverlayCTA","PauseButton","Press","Reply","Sticker","VideoPlayer"]);c=a;f["default"]=c}),66);
__d("PolarisStoriesV3PlayerControllerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("PolarisStoriesV3PlayingState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NotStarted","Playing","Stalling","Paused","Ended"]);c=a;f["default"]=c}),66);
__d("PolarisStoriesV3Root.react",["PolarisStoriesV3Page.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisStoriesV3ReelPage.react").__setRef("PolarisStoriesV3Root.react"));function a(a){var b=i(7),d=a.props;a=a.queries;var e=d.routeParams;d=d.routeProps;var f=e.initial_media_id;e=e.username;d=d.user_id;var g;b[0]!==a?(g=a.galleryQuery!=null?{gallery:a.galleryQuery}:{standalone:a.standaloneQuery},b[0]=a,b[1]=g):g=b[1];a=g;b[2]!==f||b[3]!==a||b[4]!==d||b[5]!==e?(g=j.jsx(c("PolarisStoriesV3Page.react"),{children:j.jsx(k,{mediaId:f,query:a,userId:d,username:e})}),b[2]=f,b[3]=a,b[4]=d,b[5]=e,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("PolarisStoriesV3TranslationDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8206603952689674"}),null);
__d("last",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=null;if(Array.isArray(a)||typeof a==="string")a.length&&(b={value:a[a.length-1]});else for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b=b||{};b.value=e}return b?b.value:null}f["default"]=a}),66);
__d("usePolarisStoriesV3DeleteMediaContext",["PolarisStoriesV3DeleteMediaContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisStoriesV3DeleteMediaContext"))}g["default"]=a}),98);
__d("usePolarisStoriesV3MediaType_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3MediaType_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3MediaType",["CometRelay","FBLogger","PolarisStoriesV3MediaType","usePolarisStoriesV3MediaType_media.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3MediaType_media.graphql"),a);a=c("PolarisStoriesV3MediaType").cast(a.media_type);if(a==null)throw c("FBLogger")("ig_web").mustfixThrow("Unsupported story media_type");return a}g["default"]=a}),98);
__d("usePolarisStoriesV3NavigationContext",["PolarisStoriesV3NavigationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisStoriesV3NavigationContext"))}g["default"]=a}),98);
__d("usePolarisStoriesV3PlayerController",["FBLogger","PolarisStoriesV3PlayerControllerContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("PolarisStoriesV3PlayerControllerContext"));if(a==null)throw c("FBLogger")("ig_web").mustfixThrow("PolarisStoriesV3PlayerControllerContext is empty");return a}g["default"]=a}),98);
__d("usePolarisStoriesV3PausePlayer",["PolarisStoriesV3PlayingState","react","usePolarisStoriesV3PlayerController"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c;function a(a){var b=j(4),d=c("usePolarisStoriesV3PlayerController")(),e,f;b[0]!==d||b[1]!==a?(e=function(){var b=d.getPlayingState();if(b===c("PolarisStoriesV3PlayingState").Playing){d.pause(a);return function(){d.play()}}},f=[d,a],b[0]=d,b[1]=a,b[2]=e,b[3]=f):(e=b[2],f=b[3]);i(e,f)}g["default"]=a}),98);
__d("usePolarisStoriesV3ViewingOwnStory_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3ViewingOwnStory_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3ViewingOwnStory_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3ViewingOwnStory_viewer",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null}],type:"XDTViewer",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3ViewingOwnStory",["CometRelay","usePolarisStoriesV3ViewingOwnStory_user.graphql","usePolarisStoriesV3ViewingOwnStory_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3ViewingOwnStory_user.graphql"),a);c=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisStoriesV3ViewingOwnStory_viewer.graphql"),c);return a.pk===((a=c.user)==null?void 0:a.pk)}g["default"]=a}),98);
__d("useSetAttributeRef",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){return i(function(c){c!=null&&c.setAttribute(a,b)},[a,b])}g["default"]=a}),98);